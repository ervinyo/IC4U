<html>
	<script src="{{ url_for('static', filename='jquery.min.js') }}" type="text/javascript"></script>
    <head>
		<link rel="stylesheet" href="../static/style.css"  type="text/css">
	</head>
	<body>
      
      
<script type=text/javascript>

function voice(){
    
	$.ajax({
		type : 'POST',
		url : "/voice",
		contentType: 'application/json;charset=UTF-8',
		success: function(data) {
            if(data=="0"){
				$("#inputcommand").html("Please try again...");
				voice();
			}else if(data.toLowerCase().includes("youtube")){
				//$("#inputcommand").html("<h1>"+data+"</h1>");
				//alert(data);
				page = "listvideo";
				var divs = document.getElementsByClassName("myModal");
				setImg('<img width="25%" height="40%" src="../static/Pict/youtubes.png"/>');
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				setTimeout(function(){
							for (var i = 0; i < divs.length; i = i + 1) {
							  $(divs[i]).fadeOut("slow");
							}
					   },1500); //delay is in milliseconds 
				setTimeout(function(){
							window.open("http://127.0.0.1:5000/"+page,"_self");
					   },2000); //delay is in milliseconds 
				
			}else if(data.toLowerCase().includes("facebook")){
				//$("#inputcommand").html("<h1>"+data+"</h1>");
				//alert(data);
				page = "facebook";
				var divs = document.getElementsByClassName("myModal");
				setImg('<img width="25%" height="40%" src="../static/Pict/facebook.png"/>');
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				setTimeout(function(){
							for (var i = 0; i < divs.length; i = i + 1) {
							  $(divs[i]).fadeOut("slow");
							}
					   },1500); //delay is in milliseconds 
				setTimeout(function(){
							window.open("http://127.0.0.1:5000/"+page,"_self");
					   },2000); //delay is in milliseconds 
				
			}else if(data.toLowerCase().includes("phone") || data.toLowerCase().includes("call")){
				//$("#inputcommand").html("<h1>"+data+"</h1>");
				//alert(data);
				page = "phone";
				var divs = document.getElementsByClassName("myModal");
				setImg('<img width="25%" height="40%" src="../static/Pict/skype.png"/>');
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				setTimeout(function(){
							for (var i = 0; i < divs.length; i = i + 1) {
							  $(divs[i]).fadeOut("slow");
							}
					   },1500); //delay is in milliseconds 
				setTimeout(function(){
							window.open("http://127.0.0.1:5000/"+page,"_self");
					   },2000); //delay is in milliseconds 
				
			}else if(data.toLowerCase().includes("weather")){
				//$("#inputcommand").html("<h1>"+data+"</h1>");
				//alert(data);
				page = "weather";
				var divs = document.getElementsByClassName("myModal");
				setImg('<img width="25%" height="40%" src="../static/Pict/accuweather.png"/>');
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				setTimeout(function(){
							for (var i = 0; i < divs.length; i = i + 1) {
							  $(divs[i]).fadeOut("slow");
							}
					   },1500); //delay is in milliseconds 
				setTimeout(function(){
							window.open("http://127.0.0.1:5000/"+page,"_self");
					   },2000); //delay is in milliseconds 
				
			}else if(data.toLowerCase().includes("explore") || data.toLowerCase().includes("ex")){
				//$("#inputcommand").html("<h1>"+data+"</h1>");
				//alert(data);
				page = "tourism";
				var divs = document.getElementsByClassName("myModal");
				setImg('<img width="25%" height="40%" src="../static/Pict/map.png"/>');
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				setTimeout(function(){
							for (var i = 0; i < divs.length; i = i + 1) {
							  $(divs[i]).fadeOut("slow");
							}
					   },1500); //delay is in milliseconds 
				setTimeout(function(){
							window.open("http://127.0.0.1:5000/"+page,"_self");
					   },2000); //delay is in milliseconds 
				
			}else if(data.toLowerCase()=="close"){
				//$(".box").hide();
				var divs = document.getElementsByClassName("boxs");
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeOut("slow");
				}
				voice();
			}else if(data.toLowerCase()=="show"){
				var divs = document.getElementsByClassName("boxs");
				for (var i = 0; i < divs.length; i = i + 1) {
				  $(divs[i]).fadeIn("slow");
				}
				voice();
			}else{
				$("#inputcommand").html("<font style='color:red;font-style:bold;'>\""+data+"\"</font> Not a command, please try again ...");
				voice();
			}
		}
	});
}

function setImg(img){
	$("#listphoto").html(img);
}
$(document).ready(function(){
	//gesture();
	var modal = document.getElementById('myModal');
	//modal.style.display = "block";
	  //setInterval("voice()", 5000);
	$("#inputcommand").html("Wait for input");
	voice();
		
});
</script>
<div id=main>
	<div id="bg-back" align="center">
      <div id="header">
          <h1>IC4U : Intelligent Companion For You</h1>
          <div id=log></div>
      </div>
		<div id=videoContainer  align="center">

		</div>
		<div id="myModal" class="modal myModal">

		  <!-- Modal content -->
		  <div class="modal-content" align="center">
			<div style="background:none" align="center" id=listphoto></div>
		  </div>

		</div>
		<div id=action class="skewleft box">

			<div id="inputcommand">
				Voice
			</div>
			
		</div>
		<div id=nextState class="skewright box boxs">
			<div>
				Voice : Youtube
			</div>
			<div>
				Voice : Facebook
			</div>
			<div>
				Voice : Phone Call
			</div>
			<div>
				Voice : Weather
			</div>
			<div>
				Voice : Explore
			</div>
		</div>
		<div id=command class="commandIconBox">
			<div id="iconText" class="commandIconBox" align="center"><img class="commandIcon" src="../static/Pict/textOff.png"/><br/>Gesture Off</div>
			<div id="iconVoice" class="commandIconBox" align="center"><img class="commandIcon" src="../static/Pict/voiceOn.png"/><br/>Voice On</div>
			
		</div>
	</div>
	<div id="listapp">
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/youtubes.png"/>Youtube</div>
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/facebook.png"/>Facebook</div>
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/skype.png"/>Call</div>
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/accuweather.png"/>Weather</div>
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/line.png"/>Line</div>
		<div class="appbox" align="center"><img class="appimg" src="../static/Pict/map.png"/>Tourism</div>
	</div>
</div>
      
    </body>
</html>
<style>
body{
	/*background:black;*/
	background: #99a2a4;
	margin: 0px;
}
/* The Modal (background) */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 999; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content/Box */
.modal-content {
    /*background-color: #fefefe;*/
    margin: 15% auto; /* 15% from the top and centered */
    padding: 20px;
    /*border: 1px solid #888;*/
    width: 80%; /* Could be more or less, depending on screen size */
}

/* The Close Button */
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
iframe {
  /* optional */
  width: 100%;
  height: 100%; 
}
</style>